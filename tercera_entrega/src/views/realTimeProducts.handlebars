{{!-- src/views/realTimeProducts.handlebars --}}
<div class="row g-4">
  <!-- Formulario -->
  <div class="col-12 col-lg-5">
    <section class="card shadow-sm">
      <div class="card-header fw-semibold">Crear producto</div>
      <div class="card-body">
        <form id="createForm" autocomplete="off" class="row g-3">
          <div class="col-12">
            <label class="form-label">Título</label>
            <input class="form-control" name="title" required />
          </div>
          <div class="col-12 col-sm-6">
            <label class="form-label">Código (único)</label>
            <input class="form-control" name="code" required />
          </div>
          <div class="col-6 col-sm-3">
            <label class="form-label">Precio</label>
            <input class="form-control" name="price" type="number" step="0.01" min="0" required />
          </div>
          <div class="col-6 col-sm-3">
            <label class="form-label">Stock</label>
            <input class="form-control" name="stock" type="number" step="1" min="0" required />
          </div>
          <div class="col-8">
            <label class="form-label">Categoría</label>
            <input class="form-control" name="category" required />
          </div>
          <div class="col-4 d-flex align-items-end">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="statusChk" name="status">
              <label class="form-check-label" for="statusChk">Activo</label>
            </div>
          </div>
          <div class="col-12">
            <label class="form-label">Descripción</label>
            <textarea class="form-control" name="description" rows="3" required></textarea>
          </div>
          <div class="col-12">
            <label class="form-label">Thumbnails (separados por coma)</label>
            <input class="form-control" name="thumbnails" placeholder="images/a.jpg, images/b.jpg" />
          </div>
          <div class="col-12 d-flex gap-2">
            <button id="btnCreate" class="btn btn-primary" type="submit">Crear producto</button>
            <button id="btnReset" class="btn btn-outline-secondary" type="reset">Limpiar</button>
          </div>
        </form>
      </div>
    </section>
  </div>

  <!-- Lista -->
  <div class="col-12 col-lg-7">
    <section class="card shadow-sm">
      <div class="card-header d-flex align-items-center justify-content-between">
        <span class="fw-semibold">Productos (Tiempo real)</span>
        <small class="text-muted">Se actualiza ante crear/eliminar</small>
      </div>
      <div class="card-body">
        <ul id="productsList" class="list-group">
          {{#each products}}
            <li class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-semibold">{{this.title}} <span class="text-muted">[{{this.code}}]</span></div>
                <small class="text-muted">ID: {{this.id}} · </small>
                <small>Precio: <span class="badge text-bg-success">{{currency this.price}}</span></small>
                <small class="ms-2">Stock: <span class="badge text-bg-info">{{this.stock}}</span></small>
              </div>
              <button class="btn btn-sm btn-outline-danger del" data-id="{{this.id}}">Eliminar</button>
            </li>
          {{/each}}
        </ul>
      </div>
    </section>
  </div>
</div>

<!-- Socket.io + JS del cliente -->
<script src="/socket.io/socket.io.js"></script>
<script src="/js/realtime.js" defer></script>
